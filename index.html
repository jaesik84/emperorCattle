<!doctype html>
<html>
<head>

    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no">
    
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
    <script type="text/javascript" src="./jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="http://apis.daum.net/maps/maps3.js?apikey=70c0f2fd0ebb06d53d5dcf42474b781fea5e568b" charset="utf-8"></script> 
    <script type="text/javascript">

	$(document).ready(function(){ 
		// 다음 지도
		mapInit();
		// 카카오 링크
		executeURLLink();
		
		$(window).on("load resize orientationchange", panTo);
		
	});
	
	// 다음지도
	var map;
	function mapInit() {
		
		/* 로드뷰
		var p = new daum.maps.LatLng(37.4445589, 126.7409645);
		var rc = new daum.maps.RoadviewClient();
		var rv = new daum.maps.Roadview(document.getElementById("map"));

		rc.getNearestPanoId(p, 50, function(panoid) {
			rv.setPanoId(panoid);
			rv.setViewpoint({ pan: 15, tilt: 40, zoom: 2 });
		});
		*/
		
		// 기본 맵
		map = new daum.maps.Map(document.getElementById('map'), {
			center: new daum.maps.LatLng(37.4445589, 126.7409645)
		});
		
		// 지도 컨트롤러(옵션)
		var zoomControl = new daum.maps.ZoomControl();
		map.addControl(zoomControl, daum.maps.ControlPosition.RIGHT);
		var mapTypeControl = new daum.maps.MapTypeControl();
		map.addControl(mapTypeControl, daum.maps.ControlPosition.TOPRIGHT);

		// 기본 마커
		var marker = new daum.maps.Marker({
			position: new daum.maps.LatLng(37.4445589, 126.7409645)
		});
		
		marker.setMap(map);
		
	};
	
	// 다음 지도 중심점 이동
	function panTo() {
		map.panTo(new daum.maps.LatLng(37.4445589, 126.7409645));
	}

	// 카카오 링크
	function executeURLLink() {
		/* 
		msg, url, appid, appname은 실제 서비스에서 사용하는 정보로 업데이트되어야 합니다. 
		kakao.link("talk").send({
			msg : "인천 만수동 황제한우한돈\n보기좋은 고기가 맛도 좋지요.",
			url : "https://www.facebook.com/shs.royalhanwoo?fref=ts",
			appid : "http://jaesik84.github.com/emperorCattle/",
			appver : "2.0",
			appname : "황제한우",
			type : "link"
		});
		*/
		
		Kakao.init('6ddc46757593cbcbb17fdc8ef1e145a1');

		// 카카오톡 링크 버튼을 생성합니다. 처음 한번만 호출하면 됩니다.
		Kakao.Link.createTalkLinkButton({
			container: '#kakao-link-btn',
			label: '황제한우',
			image: {
				src: 'https://scontent-a.xx.fbcdn.net/hphotos-prn2/t1.0-9/1016619_510962338975389_2130797396_n.jpg',
				width: '800',
				height: '600'
			},
			webButton: {
				text: '황제',
				url: 'https://www.facebook.com/shs.royalhanwoo?fref=ts'
				// 앱 설정의 웹 플랫폼에 등록한 도메인의 URL이어야 합니다.
			}
		});

	}
    </script>
</head>
<body>
	<h1 style="display: inline-flex;">
		황제한우
		<a id="kakao-link-btn" href="javascript:;">
	      		<img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small_ov.png" />
	    	</a>
    	</h1>
	<div id="map" style="width:98%;height:80%;position: absolute"></div>
</body>

</html>
